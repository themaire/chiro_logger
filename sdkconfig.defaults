# Configuration par défaut pour le projet Chiro Logger
# LOLIN D32 PRO avec flash 16MB

# Configuration de la flash - Force 16MB ABSOLUMENT
CONFIG_ESPTOOLPY_FLASHSIZE_16MB=y
CONFIG_ESPTOOLPY_FLASHSIZE="16MB"
CONFIG_ESPTOOLPY_FLASHFREQ_40M=y
CONFIG_ESPTOOLPY_FLASHMODE_DIO=y

# Désactive les autres tailles de flash explicitement
CONFIG_ESPTOOLPY_FLASHSIZE_1MB=
CONFIG_ESPTOOLPY_FLASHSIZE_2MB=
CONFIG_ESPTOOLPY_FLASHSIZE_4MB=
CONFIG_ESPTOOLPY_FLASHSIZE_8MB=
CONFIG_ESPTOOLPY_FLASHSIZE_32MB=

# FORCE la détection à NE PAS utiliser l'auto-détection
CONFIG_ESPTOOLPY_FLASHSIZE_DETECT=
CONFIG_BOOTLOADER_FLASH_XMC_SUPPORT=y

# Table de partitions pour applications volumineuses
CONFIG_PARTITION_TABLE_CUSTOM=y
CONFIG_PARTITION_TABLE_CUSTOM_FILENAME="huge_app.csv"

# Force la configuration bootloader
CONFIG_BOOTLOADER_COMPILER_OPTIMIZATION_SIZE=y
CONFIG_BOOTLOADER_APP_ANTI_ROLLBACK=n

# Optimisations pour la consommation énergétique
CONFIG_PM_ENABLE=y
CONFIG_FREERTOS_USE_TICKLESS_IDLE=y

# Configuration du logging
CONFIG_LOG_DEFAULT_LEVEL_INFO=y
CONFIG_LOG_MAXIMUM_EQUALS_DEFAULT=y
