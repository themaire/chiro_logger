# Configuration par dÃ©faut pour le projet Chiro Logger
# LOLIN D32 PRO avec flash 16MB

# Configuration de la flash - Force 16MB ABSOLUMENT
CONFIG_ESPTOOLPY_FLASHSIZE_16MB=y
CONFIG_ESPTOOLPY_FLASHSIZE="16MB"
CONFIG_ESPTOOLPY_FLASHFREQ_40M=y
CONFIG_ESPTOOLPY_FLASHMODE_DIO=y

# ðŸ”‹ OPTIMISATION Ã‰NERGÃ‰TIQUE - DÃ‰SACTIVATION COMPLÃˆTE DES LOGS SYSTÃˆME
# Ces logs ne sont pas nÃ©cessaires en production et consomment de l'Ã©nergie
#
# POUR PRODUCTION : Configuration SILENCIEUSE maximale
# CONFIG_LOG_DEFAULT_LEVEL_NONE=y
# CONFIG_LOG_DEFAULT_LEVEL=0
# CONFIG_BOOTLOADER_LOG_LEVEL_NONE=y  
# CONFIG_BOOTLOADER_LOG_LEVEL=0
# CONFIG_LOG_MAXIMUM_LEVEL=0

# DÃ©sactive TOUS les logs de boot/dÃ©marrage
# CONFIG_BOOTLOADER_LOG_LEVEL_ERROR=
# CONFIG_BOOTLOADER_LOG_LEVEL_WARN=
# CONFIG_BOOTLOADER_LOG_LEVEL_INFO=
# CONFIG_BOOTLOADER_LOG_LEVEL_DEBUG=
# CONFIG_BOOTLOADER_LOG_LEVEL_VERBOSE=

# DÃ©sactive les logs du CPU start et app_main
# CONFIG_ESP_CONSOLE_UART_NONE=y
# CONFIG_ESP_CONSOLE_NONE=y

# Force le niveau minimum partout
# CONFIG_LOG_COLORS=n
# CONFIG_LOG_TIMESTAMP_SOURCE_RTOS=n
#
# POUR DÃ‰VELOPPEMENT : Commentez les lignes ci-dessus et dÃ©commentez celles-ci :
CONFIG_LOG_DEFAULT_LEVEL_INFO=y
CONFIG_LOG_DEFAULT_LEVEL=3

# DÃ©sactive les autres tailles de flash explicitement
CONFIG_ESPTOOLPY_FLASHSIZE_1MB=
CONFIG_ESPTOOLPY_FLASHSIZE_2MB=
CONFIG_ESPTOOLPY_FLASHSIZE_4MB=
CONFIG_ESPTOOLPY_FLASHSIZE_8MB=
CONFIG_ESPTOOLPY_FLASHSIZE_32MB=

# FORCE la dÃ©tection Ã  NE PAS utiliser l'auto-dÃ©tection
CONFIG_ESPTOOLPY_FLASHSIZE_DETECT=
CONFIG_BOOTLOADER_FLASH_XMC_SUPPORT=y

# Table de partitions pour applications volumineuses
CONFIG_PARTITION_TABLE_CUSTOM=y
CONFIG_PARTITION_TABLE_CUSTOM_FILENAME="huge_app.csv"

# Force la configuration bootloader
CONFIG_BOOTLOADER_COMPILER_OPTIMIZATION_SIZE=y
CONFIG_BOOTLOADER_APP_ANTI_ROLLBACK=n

# Optimisations pour la consommation Ã©nergÃ©tique
CONFIG_PM_ENABLE=y
CONFIG_FREERTOS_USE_TICKLESS_IDLE=y

# ðŸ“¡ CONFIGURATION BLUETOOTH pour mode transfert BLE
# Active le stack Bluetooth pour communication avec PWA Angular
CONFIG_BT_ENABLED=y
CONFIG_BT_BLE_ENABLED=y
CONFIG_BT_BLUEDROID_ENABLED=y
CONFIG_BT_BLE_42_FEATURES_SUPPORTED=y

# Configuration BLE optimisÃ©e pour datalogger
CONFIG_BT_CONTROLLER_BLE_MAX_CONN=1
CONFIG_BT_CONTROLLER_BLE_MAX_ACL=1
CONFIG_BTDM_CONTROLLER_MODE_BLE_ONLY=y
CONFIG_BTDM_CONTROLLER_MODE_BR_EDR_ONLY=
CONFIG_BTDM_CONTROLLER_MODE_BTDM=

# Optimisation mÃ©moire BLE (mode Ã©conome)
CONFIG_BT_CONTROLLER_ONLY=y
CONFIG_BT_BLE_SMP_ENABLE=n
CONFIG_BT_BLE_SMP_ID_KEY=n

# NVS requis pour BLE
CONFIG_NVS_ENCRYPTION=n

# Configuration supplÃ©mentaire pour l'inclusion des headers BLE
CONFIG_BT_STACK_NO_LOG=y
CONFIG_BT_DRAM_RELEASE=y

# Support GATT pour services BLE
CONFIG_BT_GATT_ENABLE=y
CONFIG_BT_GATT_MAX_SR_PROFILES=8
CONFIG_BT_GATT_MAX_SR_ATTRIBUTES=100

# Configuration du contrÃ´leur BLE
CONFIG_BT_CONTROLLER_ENABLED=y
CONFIG_BT_CONTROLLER_PINNED_TO_CORE_1=y
